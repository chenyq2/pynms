<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Errors thrown by Classes</title> <meta name="description" content="Note: the functionality specified in this document is currently subject to some change. Feedback as to useful functionality is appreciated. Please open an is..."> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="http://pynms.io/pyangbind/errors"> <link rel="alternate" type="application/rss+xml" title="PyNMS" href="http://pynms.io/feed.xml"> <script src="/assets/js/modernizr.js"></script> </head> <body"> <main class="wrapper"> <header class="site-header"> <a href="#navbar" id="menu-burger" class="menu-burger">Menu <span class="nav-icon"></span> <svg x="0px" y="0px" width="54px" height="54px" viewBox="0 0 54 54"> <circle fill="transparent" stroke="#000000" stroke-width="1" cx="27" cy="27" r="25" stroke-dasharray="157 157" stroke-dashoffset="157"></circle> </svg> </a> <div id="navbar" class="navbar"> <div class="navigation-wrapper"> <div class="half-block"> <h2>Navigation</h2> <nav> <ul class="primary-nav"> <li><a href="/">Home</a></li> <li><a href="/about">About</a></li> <li><a href="/docs">Documentation Notes</a></li> <li><a href="/pyangbind">PyangBind Documentation</a></li> <li><a href="https://github.com/robshakir/pynms" target="_blank"><i class="icon icon-github"></i> GitHub</a></li> <!--<li><a href="http://twitter.com/robshakir" target="_blank"><i class="icon icon-twitter"></i> Twitter</a></li>--> <!-- <li><a href="/feed.xml" target="_blank"><i class="icon icon-feed"></i> RSS</a></li>--> </ul> </nav> </div> </div> </div> </header> <article class="post" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header intro"> <div> <h1 class="post-title" itemprop="name headline"><span class="controlled-title">PyangBind: Errors thrown by Classes</span></h1> </div> <div class="zone"> <span class="naviitem"><a class="naviitem" href="/pyangbind/">Overview</a></span> <span class="naviitem"><a class="naviitem" href="/pyangbind/getting_started">Getting Started</a></span> <span class="naviitem"><a class="naviitem" href="/pyangbind/usage">Usage</a></span> <span class="naviitem"><a class="naviitem" href="/pyangbind/generic_methods">Generic Methods</a></span> <span class="naviitem"><a class="naviitem" href="/pyangbind/errors">Errors</a></span> <span class="naviitem"><a class="naviitem" href="/pyangbind/serialisation">Serialisation</a></span> <span class="naviitem"><a class="naviitem" href="/pyangbind/xpath">XPATH</a></span> <span class="naviitem"><a class="naviitem" href="/pyangbind/extmethods">Extension Methods</a></span> <span class="naviitem"><a class="naviitem" href="/pyangbind/rpc">RPCs</a></span> <span class="naviitem"><a class="naviitem" href="/pyangbind/yang">YANG Mapping</a></span> </div> </header> <div class="post-content container" itemprop="articleBody"> <p><strong>Note</strong>: the functionality specified in this document is currently subject to some change. Feedback as to useful functionality is appreciated. Please open an issue.</p> <p>PyangBind re-uses Python error types where possible, particularly:</p> <ul> <li><code>KeyError</code> will be raised when an element does not have a particular key. The arguments to this error are a string.</li> <li><code>ValueError</code> is raised when the supplied data does not match the YANG data type. This value is only raised where the input cannot be cast to the type that is stored in the data. For example, a YANG integer type (<code>int8</code>, <code>int16</code>, … etc.) will accept <code>True</code> as an input but store the value <code>1</code>. This intentional and aims to provide a balance between duck-typing in Python, and the more strict typing in YANG: <ul> <li>The argument passed by PyangBind setters to ValueError is a dictionary - this can be accessed using code such as:</li> </ul> </li> </ul> <div class="highlighter-coderay"><div class="CodeRay"> <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">try</span>:
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>    pybindobj.value = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">anInvalidValue</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span><span style="color:#080;font-weight:bold">except</span> <span style="color:#C00;font-weight:bold">ValueError</span> <span style="color:#080;font-weight:bold">as</span> e:
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>    <span style="color:#777"># Check the args and types, just in case we have</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>    <span style="color:#777"># old bindings</span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>    <span style="color:#080;font-weight:bold">if</span> <span style="color:#369;font-weight:bold">len</span>(e.args) <span style="color:#080;font-weight:bold">and</span> <span style="color:#369;font-weight:bold">isinstance</span>(e.args[<span style="color:#00D">0</span>], <span style="color:#369;font-weight:bold">dict</span>):
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>        <span style="color:#080;font-weight:bold">print</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Hit a PyangBind ValueError</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>        <span style="color:#080;font-weight:bold">for</span> k, v <span style="color:#080;font-weight:bold">in</span> e.args[<span style="color:#00D">0</span>].iteritems():
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>            <span style="color:#080;font-weight:bold">print</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">%s-&gt;%s</span><span style="color:#710">&quot;</span></span> % (k, v)
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>    <span style="color:#080;font-weight:bold">else</span>:
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>        <span style="color:#080;font-weight:bold">print</span> <span style="color:#369;font-weight:bold">unicode</span>(e)
</pre></div> </div> </div> <ul> <li>The keys of the dictionary are:<br /> - <code>error-string</code>: a simple error string that provides some insight (but not all information) as to the type that was not matched. It will currently capture the original YANG type that was specified, but no additional restrictions.<br /> - <code>generated-type</code>: the dynamic class specification that PyangBind tried to generate for this type - this is often unwieldy, but tends to be useful for debugging.<br /> - <code>defined-type</code>: the simple defined type, resolved to module if it is not native that the leaf is. Again this does not include all information.</li> <li><code>AttributeError</code> will be raised when an invalid member of a YANG object is specified, or a method does not exist. In some cases, since PyangBind’s meta-class defines some methods which are used to modify mutable objects in place (to capture changes) then <code>dir(...)</code> for the object may show methods that return <code>AttributeError</code> when they are passed to the super-class.</li> </ul> </div> </article> <footer class="site-footer"> <div class="container"> <ul class="social"> <li><a href="https://github.com/robshakir" target="_blank"><i class="icon icon-github"></i></a></li> <li><a href="http://uk.linkedin.com/in/robjs" target="_blank"><i class="icon icon-linkedin"></i></a></li> <li><a href="http://twitter.com/robshakir" target="_blank"><i class="icon icon-twitter"></i></a></li> </ul> <p> <small>&copy;2016 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small> </p> </div> </footer> </main> <script src="/assets/js/jquery-2.1.1.js"></script> <script src="/assets/js/main.js"></script> </body> </html><!-- by nandomoreira.me -->